# 디버깅 프롬프트 템플릿

## 1. 에러 해결

```
[문제 상황]
다음 코드를 실행했는데 에러가 발생해:

```(언어)
(에러 발생 코드)
```

[에러 메시지]
```
(전체 에러 메시지와 스택 트레이스)
```

[예상 동작]
(원래 어떻게 작동해야 하는지)

[시도한 것]
- 시도 1
- 시도 2

[환경]
- OS:
- 언어 버전:
- 라이브러리 버전:

[질문]
이 에러를 어떻게 해결할 수 있을까?
```

### 실제 예시

```
다음 코드를 실행했는데 에러가 발생해:

```python
def read_file(filename):
    with open(filename) as f:
        return f.read()

content = read_file("data.txt")
print(content)
```

에러 메시지:
```
FileNotFoundError: [Errno 2] No such file or directory: 'data.txt'
```

예상 동작:
data.txt 파일의 내용을 읽어서 출력해야 해.

시도한 것:
- 파일 경로 확인 (파일이 실제로 존재함)
- 절대 경로로 시도했지만 같은 에러

환경:
- OS: Windows 10
- Python: 3.10

질문:
파일이 있는데도 왜 못 찾을까? 어떻게 해결하지?
```

---

## 2. 예상과 다른 동작

```
[코드]
```(언어)
(문제가 있는 코드)
```

[예상 동작]
(어떻게 작동해야 하는지)

[실제 동작]
(실제로 어떻게 작동하는지)

[테스트 케이스]
- 입력: ...
- 예상 출력: ...
- 실제 출력: ...

[가설]
(왜 이렇게 동작하는지에 대한 추측)

[질문]
뭐가 잘못된 걸까? 어떻게 고치면 될까?
```

### 실제 예시

```
```python
def calculate_average(numbers):
    total = 0
    for num in numbers:
        total += num
    return total / len(numbers)

result = calculate_average([1, 2, 3, 4, 5])
print(result)  # 3.0 출력
```

예상 동작:
평균값 3.0을 반환해야 함.

실제 동작:
3.0이 출력되긴 하는데, 빈 리스트를 넣으면:

```python
result = calculate_average([])
```

에러 메시지:
```
ZeroDivisionError: division by zero
```

테스트 케이스:
- 입력: []
- 예상: 0 또는 에러 메시지
- 실제: ZeroDivisionError

질문:
빈 리스트를 입력하면 0을 반환하도록 수정해줘.
```

---

## 3. 성능 문제

```
[문제]
다음 코드가 너무 느려:

```(언어)
(느린 코드)
```

[상황]
- 입력 크기: (예: 10만 개 항목)
- 실행 시간: (예: 5분)
- 예상 시간: (예: 1초 이내)

[병목]
(어느 부분이 느린지 추측)

[제약사항]
- 메모리 제한:
- 알고리즘 제약:

[질문]
어떻게 최적화할 수 있을까?
```

### 실제 예시

```
다음 코드가 너무 느려:

```python
def find_duplicates(numbers):
    duplicates = []
    for i in range(len(numbers)):
        for j in range(i + 1, len(numbers)):
            if numbers[i] == numbers[j]:
                if numbers[i] not in duplicates:
                    duplicates.append(numbers[i])
    return duplicates

# 10만 개 항목에서 실행
big_list = list(range(100000))
result = find_duplicates(big_list)
```

상황:
- 입력 크기: 10만 개
- 실행 시간: 5분 이상
- 예상 시간: 1초 이내

병목:
중첩 루프 때문에 O(n²) 시간 복잡도.

질문:
더 빠른 알고리즘으로 최적화해줘. 가능하면 O(n)으로.
```

---

## 4. 로직 버그

```
[기능]
(무엇을 하는 코드인지)

[코드]
```(언어)
(버그가 있는 코드)
```

[버그 증상]
- 특정 입력에서만 문제 발생
- 예시: 입력 X일 때 출력 Y (예상은 Z)

[디버깅 정보]
- 중간값 출력:
- 변수 상태:

[질문]
로직의 어느 부분이 잘못됐을까?
```

### 실제 예시

```
기능:
피보나치 수열의 n번째 값을 계산하는 함수

코드:
```python
def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n - 1) + fibonacci(n - 2)
```

버그 증상:
n=0일 때 0을 반환 (정상)
n=1일 때 1을 반환 (정상)
n=2일 때 1을 반환 (정상)

하지만 n=30일 때 실행 시간이 너무 오래 걸림 (30초 이상).

문제:
재귀 호출을 너무 많이 함. 같은 계산을 반복.

질문:
메모이제이션을 추가해서 최적화해줘.
```

---

## 5. 통합 문제

```
[시스템 구성]
- 컴포넌트 A: (설명)
- 컴포넌트 B: (설명)
- 연결: (어떻게 연결되는지)

[문제]
A와 B를 연결했는데 작동하지 않아.

[코드]
```(언어)
(컴포넌트 A 코드)
```

```(언어)
(컴포넌트 B 코드)
```

[에러/증상]
(에러 메시지 또는 예상과 다른 동작)

[각 컴포넌트 단독 테스트]
- A만 실행: (결과)
- B만 실행: (결과)
- A+B 실행: (문제 발생)

[질문]
통합 시 무엇이 문제일까?
```

---

## 💡 디버깅 프롬프트 작성 팁

### 1. 에러 메시지 전체 포함
```
❌ "에러가 나요"
✅ 전체 스택 트레이스 복사
```

### 2. 재현 가능한 최소 예제
```
❌ 전체 프로젝트 코드 (1000줄)
✅ 문제를 재현하는 최소 코드 (10-20줄)
```

### 3. 환경 정보
```
- OS 버전
- 언어/프레임워크 버전
- 관련 라이브러리 버전
```

### 4. 시도한 것 명시
```
"이미 시도한 것:
- 구글링: [결과]
- 공식 문서: [내용]
- 스택오버플로우: [링크]"
```

### 5. 예상과 실제 비교
```
예상: [구체적 동작]
실제: [실제 동작]
차이: [무엇이 다른지]
```

---

## 🔍 효과적인 디버깅 대화

### 초기 질문
```
"이 에러가 왜 발생할까?"
```

### 후속 질문들
```
1. "왜 이 방법을 제안했어?"
2. "다른 원인도 있을 수 있어?"
3. "이 수정이 다른 부분에 영향을 줄까?"
4. "같은 문제가 다시 발생하지 않으려면?"
```

---

**다음**: [code_review_templates.md](./code_review_templates.md)로 이동
