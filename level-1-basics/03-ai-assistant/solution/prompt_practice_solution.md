# 프롬프트 개선 연습 - 모범 답안

> 이것은 하나의 예시입니다. 더 좋은 답안이 있을 수 있습니다!

## 연습 1: 계산기

### 개선된 프롬프트
```
Python으로 사칙연산 계산기를 만들어줘.

요구사항:
- 파일명: calculator.py
- 함수 4개: add(), subtract(), multiply(), divide()
- 각 함수는 두 숫자를 인자로 받아서 결과를 반환
- divide()는 0으로 나눌 때 ZeroDivisionError 발생
- 타입 힌트 포함
- 각 함수마다 docstring 작성

예시:
```python
result = add(3, 5)  # 8 반환
result = divide(10, 2)  # 5.0 반환
result = divide(10, 0)  # ZeroDivisionError 발생
```

간단한 테스트 예시도 포함해줘.
```

### 개선 이유
- **명확한 목표**: 사칙연산 계산기
- **구체적인 요구사항**: 파일명, 함수명, 기능 명시
- **제약사항**: 타입 힌트, docstring, 에러 처리
- **예시 제공**: 예상 동작을 명확히 전달
- **추가 요청**: 테스트 예시 포함

---

## 연습 2: 버그 수정

### 개선된 프롬프트
```
다음 함수에서 에러가 발생해:

```python
def calculate_average(numbers):
    return sum(numbers) / len(numbers)

# 사용
result = calculate_average([1, 2, 3, 4, 5])  # OK
result = calculate_average([])  # 에러 발생!
```

에러 메시지:
```
ZeroDivisionError: division by zero
```

문제:
빈 리스트를 입력하면 len(numbers)가 0이 되어서 에러가 발생해.

해결 방법:
빈 리스트일 때는 0을 반환하도록 수정해줘.

추가 요청:
- 수정된 코드
- 이 케이스를 검증하는 pytest 테스트 코드
```

### 개선 이유
- **코드 첨부**: 문제가 있는 코드 제공
- **에러 메시지**: 정확한 에러 내용
- **문제 분석**: 왜 에러가 발생하는지 설명
- **원하는 동작**: 어떻게 수정할지 명시
- **추가 요청**: 테스트 코드도 함께 요청

---

## 연습 3: 함수 수정

### 개선된 프롬프트
```
다음 validate_email() 함수를 개선해줘:

```python
def validate_email(email):
    return "@" in email
```

현재 문제점:
- "@example.com" 같은 잘못된 이메일도 True 반환
- "test@" 같은 경우도 True 반환
- 너무 간단한 검증

개선 요청:
1. @ 앞뒤로 문자가 있는지 확인
2. 도메인에 .이 최소 하나 있는지 확인
3. 타입 힌트 추가
4. docstring 작성 (예시 포함)

예상 동작:
- validate_email("test@example.com") → True
- validate_email("@example.com") → False
- validate_email("test@") → False
- validate_email("test@domain") → False
- validate_email("invalid") → False
```

### 개선 이유
- **현재 코드**: 수정할 코드 제공
- **문제 분석**: 구체적인 문제점 나열
- **개선 요구사항**: 무엇을 수정할지 명확히
- **예상 동작**: 다양한 케이스 제시
- **구체적 제약**: 타입 힌트, docstring 요청

---

## 연습 4: 새 기능 추가

### 개선된 프롬프트
```
Python Flask로 간단한 JWT 기반 로그인 시스템을 만들어줘.

기술 스택:
- Python 3.10+
- Flask
- PyJWT

요구사항:

1. 회원가입 엔드포인트 (POST /signup)
   - 입력: username, password (JSON)
   - 비밀번호 해싱: bcrypt 사용
   - 출력: 성공 메시지

2. 로그인 엔드포인트 (POST /login)
   - 입력: username, password (JSON)
   - 인증 성공 시 JWT 토큰 발급
   - 토큰 만료: 24시간
   - 출력: {"token": "..."}

3. 보호된 엔드포인트 (GET /protected)
   - JWT 토큰 검증
   - Authorization 헤더에서 토큰 확인
   - 유효한 토큰이면 사용자 정보 반환

데이터 저장:
- 간단하게 메모리 딕셔너리 사용 (실제 DB는 나중에)

보안 요구사항:
- 비밀번호 평문 저장 금지
- JWT 시크릿 키는 환경변수 또는 설정 파일
- 기본적인 입력 검증

파일 구조:
```
app.py          # 메인 Flask 앱
auth.py         # 인증 관련 함수
requirements.txt
```

각 파일에 주석으로 설명을 추가해줘.
```

### 개선 이유
- **명확한 기술 스택**: Flask, JWT 명시
- **상세한 요구사항**: 각 엔드포인트 기능 구체화
- **보안 고려**: 비밀번호 해싱, 토큰 검증
- **데이터 저장 방법**: 간단하게 메모리 사용
- **파일 구조**: 어떤 파일들이 필요한지
- **추가 요청**: 주석으로 설명

---

## 연습 5: 코드 리팩토링

### 개선된 프롬프트
```
다음 코드를 리팩토링해줘:

```python
def process(data):
    result = []
    for item in data:
        if item > 0:
            result.append(item * 2)
    return result
```

리팩토링 목표:
1. **가독성**: 더 pythonic하게 (list comprehension 고려)
2. **명확성**:
   - 함수명을 더 설명적으로
   - 매직넘버 2를 상수 또는 매개변수로
3. **문서화**:
   - 타입 힌트 추가
   - docstring 작성 (무엇을 하는 함수인지 명확히)
4. **테스트 가능성**:
   - 순수 함수 유지 (부작용 없음)

제약사항:
- 기능은 동일하게 유지 (양수만 필터링하고 2배)
- 호환성: 기존 호출 코드는 수정하지 않아도 되게

리팩토링 후 다음과 같이 사용 가능해야 함:
```python
numbers = [1, -2, 3, -4, 5]
result = process(numbers)  # [2, 6, 10]
```

추가 요청:
리팩토링 전후를 비교하고, 각 개선사항을 설명해줘.
```

### 개선 이유
- **현재 코드**: 리팩토링 대상 제공
- **구체적인 목표**: 가독성, 명확성, 문서화, 테스트 가능성
- **각 목표별 상세**: 무엇을 어떻게 개선할지
- **제약사항**: 호환성 유지
- **예시**: 리팩토링 후 사용 예시
- **추가 요청**: 개선사항 설명

---

## 💡 좋은 프롬프트 작성 팁 정리

### 체크리스트

모든 프롬프트는 다음을 확인하세요:

#### 필수 요소
- [ ] **무엇을** 만들고 싶은지 명확
- [ ] **왜** 필요한지 (컨텍스트)
- [ ] **어떻게** 작동해야 하는지

#### 구체화
- [ ] 파일명/함수명 명시
- [ ] 입력/출력 형식
- [ ] 에러 처리 방법
- [ ] 기술 스택/라이브러리

#### 예시
- [ ] 사용 예시
- [ ] 예상 입출력
- [ ] Edge case 예시

#### 제약사항
- [ ] 코드 스타일 (타입 힌트, 주석 등)
- [ ] 성능 요구사항
- [ ] 호환성 요구사항

### 프롬프트 템플릿 (재사용 가능)

```
[기능 설명]
(무엇을 만들고 싶은지)

기술 스택:
- (사용할 언어/프레임워크)

요구사항:
1. (기능 1)
2. (기능 2)
3. (기능 3)

제약사항:
- (제약 1)
- (제약 2)

예시:
```(언어)
(코드 예시)
```

추가 요청:
- (테스트 코드, 주석, 문서 등)
```

---

## 🎯 연습하기

### 직접 해보세요

다음 상황에 대한 좋은 프롬프트를 작성해보세요:

**상황 1**: 파일에서 특정 단어를 찾아서 개수를 세는 프로그램

**상황 2**: API에서 데이터를 가져와서 JSON 파일로 저장하는 스크립트

**상황 3**: 문자열이 회문(palindrome)인지 판별하는 함수

각 상황에 대해:
1. 나쁜 프롬프트 (한 줄)
2. 좋은 프롬프트 (상세하게)
3. 왜 더 나은지 설명

---

**다음 단계**: 작성한 프롬프트를 실제로 AI에게 보내보고 결과를 비교해보세요!
